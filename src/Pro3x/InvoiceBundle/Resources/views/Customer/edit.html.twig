{% extends '::form.html.twig' %}

{% block page_title %}<img src="{{ asset("icons/small/#{icon}.png") }}" /> {{ title|trans|capitalize }}{% endblock %}

{% block header %} 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/locales/bootstrap-datepicker.hr.min.js"></script>
{% endblock %}

{% block body %}
    <div class="col-md-6 col-md-offset-3">
	<form method="post" class="form-horizontal" {{ form_enctype(form) }}>

            <div id="info" class="panel panel-default">
                <div class="panel-heading">{{ 'Osnovna svojstva'|trans|capitalize }}</div>
                <div class="panel-body pro3x-panel-form">

                    <div class="form-group">
                        {{ form_label(form.name, form.name.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>
                        
                    <div class="form-group">
                        {{ form_label(form.taxNumber, form.taxNumber.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.taxNumber, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.address, form.address.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.address, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.location, form.location.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.location, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>

                </div>
            </div>
                        
            <div id="info" class="panel panel-default">
                <div class="panel-heading">{{ 'Program nagraÄ‘ivanja'|trans|capitalize }}</div>
                <div class="panel-body pro3x-panel-form">
                    <div class="form-group">
                        {{ form_label(form.birthday, form.birthday.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.birthday, {'attr': {
                                'class': 'form-control', 
                                'data-provide': 'datepicker',
                                'data-date-format': 'dd.mm.yyyy',
                                'data-date-autoclose': 'true'
                            }}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
                        
            <div class="panel panel-default">
                <div class="panel-heading">Kontakt</div>
                <div class="panel-body pro3x-panel-form">
                    
                    <div class="form-group">
                        {{ form_label(form.phone, form.phone.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.cellPhone, form.cellPhone.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.cellPhone, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.email, form.email.vars.label, {'label_attr': {'class': 'control-label col-md-4'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    
                </div>
            </div>
                        
            <div class="pro3x-buttons">
                <input type="submit" class="btn btn-primary" value="{{ 'Spremi'|trans }}" />
                <a class="btn btn-primary" href="{{ app.request.get('back') }}">{{ 'Odustani'|trans }}</a>
            </div>
            
            {{ form_rest(form) }}
	</form>
    </div>
{% endblock %}

{% block javascripts %}

    $('#pro3x_invoicebundle_customertype_accomodation, #pro3x_invoicebundle_customertype_ownership').change(function() {
	updateOther();
    });

    function updateOther() {
	if($('#pro3x_invoicebundle_customertype_accomodation').val() == 'ostalo') {
	    $('#pro3x_invoicebundle_customertype_otherAccomodation').prop('disabled', false);
	}
	else {
	    $('#pro3x_invoicebundle_customertype_otherAccomodation').val('').prop('disabled', true);
	}
	
	if($('#pro3x_invoicebundle_customertype_ownership').val() == 'ostalo') {
	    $('#pro3x_invoicebundle_customertype_otherOwnership').prop('disabled', false);
	}
	else {
	    $('#pro3x_invoicebundle_customertype_otherOwnership').val('').prop('disabled', true);
	}
    }
    
    updateOther();
    
{% endblock %}
    
